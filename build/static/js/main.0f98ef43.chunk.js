(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{12:function(e,t,c){},14:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),s=c.n(a),r=c(6),i=c.n(r),o=(c(12),c(3)),u=c.n(o),j=c(5),l=c(2);var h=function(e){var t,c=e.hour;return Object(n.jsxs)("li",{className:"hour",children:[Object(n.jsxs)("p",{children:[(t=c.dt,new Date(1e3*t).getHours()),Object(n.jsx)("span",{children:"00"})]}),Object(n.jsxs)("div",{className:"weather",children:[Object(n.jsx)("div",{className:"weather-img",children:Object(n.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(c.weather[0].icon,".png"),alt:""})}),Object(n.jsx)("p",{children:c.weather[0].description})]}),Object(n.jsxs)("p",{children:[Math.round(c.main.temp)," \xb0C (",Math.round(c.main.feels_like)," \xb0C)"]})]})};var d=function(e){var t=e.day;return Object(n.jsxs)("li",{className:"day",children:[Object(n.jsx)("h3",{children:"".concat(["Duminic\u0103","Luni","Mar\u021bi","Miercuri","Joi","Vineri","S\xe2mb\u0103t\u0103"][t.date.getDay()],", ").concat(t.date.getDate()," ").concat(["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombie","Noiembrie","Decembrie"][t.date.getMonth()])}),Object(n.jsx)("ul",{className:"hourly",children:t.forecast.map((function(e){return Object(n.jsx)(h,{hour:e},e.dt)}))})]})};var b=function(){var e="http://api.openweathermap.org/data/2.5/forecast?",t="15a8a971b6ae66dd707d9d4bb2a235ac",c="metric",s=Object(a.useState)({}),r=Object(l.a)(s,2),i=r[0],o=r[1],h=Object(a.useState)(""),b=Object(l.a)(h,2),O=b[0],p=b[1],m=Object(a.useState)(""),f=Object(l.a)(m,2),x=f[0],g=f[1],v=Object(a.useState)(!1),y=Object(l.a)(v,2),w=y[0],N=y[1],k=Object(a.useState)([]),D=Object(l.a)(k,2),M=D[0],S=D[1],C=Object(a.useState)({}),E=Object(l.a)(C,2),I=E[0],A=E[1];Object(a.useEffect)((function(){H()}),[]),Object(a.useEffect)((function(){J()}),[x]),Object(a.useEffect)((function(){Object.keys(i).length>2&&P()}),[i]);var H=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(){var n=Object(j.a)(u.a.mark((function n(a){var s,r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(e,"lat=").concat(a.coords.latitude,"&lon=").concat(a.coords.longitude,"&units=").concat(c,"&lang=").concat("RO","&appid=").concat(t));case 3:return s=n.sent,n.next=6,s.json();case 6:r=n.sent,console.log(i),200===s.status?(o(r),P()):A(r),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()):window.alert("Geolocation is not supported by this browser.")},J=function(){var n=Object(j.a)(u.a.mark((function n(){var a,s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""===x){n.next=18;break}return o({}),S([]),N(!1),A({}),n.prev=5,n.next=8,fetch("".concat(e,"q=").concat(x,"&units=").concat(c,"&lang=").concat("RO","&appid=").concat(t));case 8:return a=n.sent,n.next=11,a.json();case 11:s=n.sent,200===a.status?(o(s),P()):A(s),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(5),console.log(n.t0);case 18:case"end":return n.stop()}}),n,null,[[5,15]])})));return function(){return n.apply(this,arguments)}}(),P=function(){try{if(Object.keys(i).length>2){var e=new Date(1e3*i.list[0].dt),t=[],c=new Date,n=[];i.list.forEach((function(a){var s=new Date(1e3*a.dt);if(s.getDate()===e.getDate()){var r=a.dt,i=a.main,o=a.weather;t.push({dt:r,main:i,weather:o}),c=s}else n.push({forecast:t,date:c}),e.setDate(s.getDate()),t=[]})),N(!0),S(n)}else console.log("Im here"),S([])}catch(a){console.log(a)}},R=function(e){return new Date(1e3*e)};return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("div",{className:"app-title",children:Object(n.jsxs)("h1",{children:[Object(n.jsx)("i",{className:"fas fa-cloud-sun-rain"}),"Meteo"]})}),Object(n.jsxs)("form",{className:"search",onSubmit:function(e){e.preventDefault(),g(O),p("")},children:[Object(n.jsx)("input",{type:"text",value:O,onChange:function(e){p(e.target.value)}}),Object(n.jsx)("button",{type:"submit",children:"Cauta"})]}),!0===w&&Object.keys(i).length>2&&0===Object.keys(I).length?Object(n.jsxs)("div",{className:"result-container",children:[Object(n.jsxs)("h2",{className:"city-title",children:[i.city.name,", ",Object(n.jsx)("span",{children:i.city.country})]}),Object(n.jsxs)("h4",{className:"city-coords",children:["(",i.city.coord.lat,", ",i.city.coord.lon,")"]}),Object(n.jsxs)("div",{className:"current",children:[Object(n.jsx)("div",{className:"current-img",children:Object(n.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(M[0].forecast[0].weather[0].icon,"@4x.png"),alt:""})}),Object(n.jsxs)("h3",{children:[Math.round(M[0].forecast[0].main.temp)," \xb0C ( se simte ca"," ",Math.round(M[0].forecast[0].main.feels_like)," \xb0C)"]}),Object(n.jsx)("h3",{children:M[0].forecast[0].weather[0].description})]}),Object(n.jsxs)("div",{className:"additional-info",children:[Object(n.jsxs)("p",{children:[Object(n.jsx)("b",{children:"Apus:"})," ".concat(R(i.city.sunset).getHours(),":").concat(R(i.city.sunset).getMinutes()),Object(n.jsx)("br",{}),Object(n.jsx)("b",{children:"R\u0103s\u0103rit:"})," ".concat(R(i.city.sunrise).getHours(),":").concat(R(i.city.sunrise).getMinutes())]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("b",{children:"Presiune:"})," ",M[0].forecast[0].main.pressure," hPa"," ",Object(n.jsx)("br",{}),Object(n.jsx)("b",{children:"Umiditate:"})," ",M[0].forecast[0].main.humidity," %"]})]}),Object(n.jsx)("ul",{className:"daily",children:M.map((function(e){return Object(n.jsx)(d,{day:e},e.date)}))})]}):0!==Object.keys(I).length?Object(n.jsxs)("h1",{children:["Error ",I.cod,": ",I.message]}):Object(n.jsx)("h1",{children:"Loading"})]})};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(b,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.0f98ef43.chunk.js.map